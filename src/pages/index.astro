---
import Layout from "@/layouts/Layout.astro";
import "@/styles/globals.css";

import Spotlight from "@/components/client/spotlight";
import TypingText from "@/components/client/typing-text.tsx";
import About from "@/components/client/about.tsx";
import Avatar from "@/components/home/avatar.astro";
import OrbitingTech from "@/components/home/orbiting-tech.astro";
import SectionHeader from "@/components/section-header.astro";
import { EXPERIENCE } from "@/data/experience";
import Experience from "@/components/home/experience.astro";
import Button from "@/components/ui/button.astro";
import Projects from "@/components/home/projects.astro";
import Pin from "@/components/icons/pin.astro";
---

<Layout>
  <!-- background effects-->
  <div
    class="absolute inset-0 flex h-[500px] w-full items-center justify-center lg:fixed"
  >
    <Spotlight fill="var(--indigo-300)" className="absolute -z-10" />
  </div>

  <div class="container relative min-h-svh lg:grid lg:grid-cols-10 lg:gap-24">
    <!-- hero -->
    <header
      class="w-full lg:sticky lg:top-0 lg:col-span-4 lg:flex lg:max-h-screen lg:flex-col lg:justify-between lg:py-24"
    >
      <div
        class="relative flex flex-grow flex-col items-center gap-8 text-center lg:items-start lg:text-left"
      >
        <div class="flex flex-row gap-8">
          <Avatar />
          <div class="">
            <a
              href="/"
              class="mb-2 block whitespace-nowrap bg-opacity-50 bg-gradient-to-b from-foreground to-zinc-300 bg-clip-text text-4xl font-bold tracking-normal text-transparent"
            >
              <h1>Tim Machnacki</h1>
            </a>
            <h2 class="mb-2 text-lg text-foreground text-zinc-300 lg:text-xl">
              Front End Software Engineer
            </h2>
            <span class="flex items-center gap-2 text-sm text-muted-foreground">
              <Pin class={"size-4"} />
              Lake Orion, MI
            </span>
          </div>
        </div>
        <About client:load />
      </div>

      <nav class="flex-shrink-0 flex-grow">
        <ul class="w-max space-y-4">
          <li>
            <a href="#skills">Skills</a>
          </li>
          <li>
            <a href="#experience">Experience</a>
          </li>
          <li>
            <a href="#projects">Projects</a>
          </li>
        </ul>

        <Button gradient={"full"} class={"mt-4 rounded-full px-5"}>
          Resume
        </Button>
      </nav>

      <ul class="flex-shrink-0">
        <li>
          <a href="https://github.com/timmachnacki">Github</a>
        </li>
        <li>
          <a href="https://www.linkedin.com/in/timmachnacki/">LinkedIn</a>
        </li>
      </ul>
    </header>

    <!-- content -->
    <main class="relative w-full py-24 lg:col-span-6">
      <!-- about -->
      <section
        id="skills"
        class="mb-16 scroll-mt-16 px-4 md:mb-24 lg:mb-36 lg:scroll-mt-24 lg:px-6"
        aria-label="About Me"
      >
        <SectionHeader title="Skills" />

        <OrbitingTech />
      </section>

      <!-- experience -->
      <section
        id="experience"
        class="mb-16 scroll-mt-16 md:mb-24 lg:mb-36 lg:scroll-mt-24"
        aria-label="Work experience"
      >
        <SectionHeader title="Experience" />
        <div>
          <ol class="group/list space-y-12">
            <!-- experience cards -->
            {
              EXPERIENCE.map((experience) => (
                <li>
                  <Experience {...experience} />
                </li>
              ))
            }
          </ol>
        </div>
      </section>

      <!-- Projects -->
      <section
        id="projects"
        class="mb-16 scroll-mt-16 md:mb-24 lg:mb-36 lg:scroll-mt-24"
        aria-label="Projects"
      >
        <SectionHeader title="Projects" />
        <Projects />

        <div>
          <a href="/projects/archive/">view archive</a>
        </div>
      </section>
    </main>
  </div>

  <style scoped>
    .bg-grid {
      background-image: url("/grid.svg");
      background-position: top center;
      background-repeat: no-repeat;
      overflow-y: visible;
      overflow-x: clip;
    }
  </style>
</Layout>
