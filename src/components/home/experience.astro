---
import { Image } from "astro:assets";

import Card from "../card.astro";
import Skill from "../skill.astro";
import Link from "../ui/link.astro";

import ArrowTr from "../icons/arrow-tr.astro";
import Check from "../icons/check.astro";

export interface Props {
  timePeriod: string;
  logo?: ImageMetadata;
  badge?: string;
  title: string;
  company: string;
  companyUrl: string;
  bullets: string[];
  skills: string[];
}
const { timePeriod, logo, badge, title, company, companyUrl, bullets, skills } =
  Astro.props;
---

<Card>
  <header
    class="z-10 mb-2 mt-0.5 text-xs font-semibold uppercase tracking-wide text-zinc-500 sm:col-span-2"
    aria-label={timePeriod}
  >
    {timePeriod}
  </header>
  <div class="z-10 sm:col-span-6">
    <h3
      class="mb-2 flex items-center text-lg font-medium leading-tight text-foreground"
    >
      <a
        class="group/link inline-flex items-baseline hover:underline motion-reduce:transition-none"
        href={companyUrl}
        target="_blank"
        rel="noreferrer noopener"
        aria-label={`${company} (opens in a new tab)`}
      >
        {`${title} Â· ${company}`}
        <ArrowTr
          class="ml-2 size-[14px] translate-y-0.5 transition-transform group-hover/link:-translate-y-0 group-hover/link:translate-x-0.5 motion-reduce:transition-none"
          aria-hidden="true"
        />
      </a>

      {
        badge && (
          <span class="ml-3 inline-flex h-5 items-center rounded-full border bg-transparent bg-gradient-to-b from-muted to-transparent px-4 text-xs font-normal text-muted-foreground">
            {badge}
          </span>
        )
      }
    </h3>
    <ul
      class="mb-2 list-disc space-y-1 pl-4 text-sm leading-snug text-muted-foreground"
    >
      {
        bullets.map((bullet) => (
          <li class="list-item items-start gap-2">{bullet}</li>
        ))
      }
    </ul>
    <ul class="flex flex-wrap" aria-label="Technologies used">
      {
        skills.map((skill) => (
          <li class="mr-1.5 mt-2">
            <Skill
              label={skill}
              class="transition lg:group-hover:border-primary/50 lg:group-hover:text-indigo-400 lg:group-hover:shadow-md lg:group-hover:shadow-primary/20"
            />
          </li>
        ))
      }
    </ul>
  </div>
</Card>
